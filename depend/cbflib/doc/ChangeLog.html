<HTML>
<HEAD>
<TITLE>CBFlib ChangeLog</TITLE>
</HEAD>
<body bgcolor="#FAFAFF" text="#000000" 
BACKGROUND="../html_graphics/cbflibbackground.jpg">
<font face="Arial,Helvetica,Times">
<a href="http://www.iucr.org/iucr-top/welcome.html">
<img alt="[IUCr Home Page]" src="../html_graphics/iucrhome.jpg"></a>
<a href="http://www.iucr.org/iucr-top/cif/home.html">
<img alt="[CIF Home Page]" src="../html_graphics/cifhome.jpg"></a>
<a href="cbf_definition_rev.html"><IMG SRC="../html_graphics/CBFbutton.jpg" 
ALT="[CBF/imgCIF]"></a>
<a href="CBFlib.html"><IMG SRC="../html_graphics/cbflibbutton.jpg"></a>
<hr>
<CENTER>
| <a href="http://www.iucr.org/iucr-top/welcome.html">IUCr Home Page</a>
| <a href="http://www.iucr.org/iucr-top/cif/home.html">CIF Home Page</a>
| <a href="cbf_definition_rev.html">CBF/imgCIF</a>
| <a href="CBFlib.html">CBFlib</a>
|<br />
| <a href = "CBFlib_NOTICES.html">NOTICE</a>
| <a href=gpl.txt>GPL</a>
| <a href=lgpl.txt>LGPL</a>
| <a href="cif_img_1.6.3.html">imgCIF dictionary</a>
|<br />
| <a href="http://arcib.dowling.edu/donation.shtml">Click Here to Make a Donation</a>
|<P>
<IMG  SRC="../html_graphics/cbflibbig.jpg" ALT="">
</CENTER>
<font color="#0808A0">
<H2 align="center">CBFlib ChangeLog</H2>
<CENTER>
<B>An API for CBF/imgCIF<BR>
Crystallographic Binary Files with ASCII Support</B><BR>
Version 0.9.2<BR>
12 February 2011<BR>
<P>
</CENTER>
</font><font color="#000000">
<P>
<CENTER>
by<BR>
Paul J. Ellis<BR>
Stanford Synchrotron Radiation Laboratory<BR>
<P>
and<BR>
Herbert J. Bernstein<BR>
Bernstein + Sons<BR>
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
<p>
&#169; Copyright 2006, 2007, 2008, 2011 Herbert J. Bernstein
<P>
<hr>
<b>YOU MAY REDISTRIBUTE THE CBFLIB PACKAGE UNDER THE TERMS OF THE <a href=gpl.txt>GPL</a>.
<P>
 ALTERNATIVELY YOU MAY REDISTRIBUTE THE CBFLIB API UNDER THE TERMS
 OF THE <a href=lgpl.txt>LGPL<a/>.</b>

</CENTER>
<P>
<HR>
<H3 align="center">
Before using this software, please read the <BR>
<a href = "CBFlib_NOTICES.html"> <IMG SRC="../html_graphics/noticeButton.jpg" ALT="NOTICE"></a><BR>
for important disclaimers and the IUCr Policy
 on the Use of the Crystallographic Information File (CIF) and for other important
information.
</h3>
<P>
   Work on imgCIF and CBFlib supported in part by the U. S. Department of
   Energy (DOE) under grants ER63601-1021466-0009501 and
   ER64212-1027708-0011962, by the U. S. National Science Foundation (NSF)
   under grants DBI-0610407, DBI-0315281 and EF-0312612, the U. S.
   National Institutes of Health (NIH) under grants 1R15GM078077 from
   NIGMS and 1R13RR023192 from NCRR and funding from the International
   Union for Crystallographyn (IUCr). The content is solely the
   responsibility of the authors and does not necessarily represent the
   official views of DOE, NSF, NIH, NIGMS, NCRR or IUCr. 
<P>
<HR>
</font><font color="#0808A0">
<h2 align="center">Version History</H2>
</font><font color="#000000">
<P>
<TABLE>
<tr><th align="left"><font face="Arial,Helvetica,Times">Version
<th align="left"><font face="Arial,Helvetica,Times">Date<th align="left"><font face="Arial,Helvetica,Times">By<th align="left"><font face="Arial,Helvetica,Times">Description
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;0.1<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Apr. 1998
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This was the 
first CBFlib release.  It
supported binary CBF files using binary strings.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.2">0.2</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Aug. 1998
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release 
added ascii imgCIF support using MIME-encoded binary sections, added 
the option of MIME headers for the binary strings was well.  MIME code 
adapted from mpack 1.5.  Added hooks needed for DDL1-style names without 
categories.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.3">0.3</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Sep. 1998
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release 
cleaned up the changes made for version 0.2, allowing multi-threaded use of 
the code, and removing dependence on the mpack package.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.4">0.4</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Nov. 1998
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
merged much of the message digest code into the general file reading and 
writing to reduce the number of passes.  More consistency checking between 
the MIME header and the binary header was introduced.  The size in the 
MIME header was adjusted to agree with the version 0.2 documentation.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.5">0.5</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Dec. 1998
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
greatly increased the speed of processing by allowing for deferred digest
evaluation.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.6">0.6</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jan. 1999
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
removed the redundant information (binary id, size, compression id)
from a binary header when there is a MIME header, removed the unused
repeat argument, and made the memory allocation for buffering and
tables with many rows sensitive to the current memory allocation already used.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.6.1">0.6.1</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Feb. 2001
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HP (per HJB)
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
fixed a memory leak due to misallocation by size of cbf_handle instead of cbf_handle_struct
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.7">0.7</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Mar. 2001
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
added high-level instructions based on the imgCIF dictionary
version 1.1.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.7.1">0.7.1</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Mar. 2001
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;The high-level functions were revised to permit future expansion to
files with multiple images.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.7.2">0.7.2</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Apr. 2001
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
adjusted cbf_cimple.c to conform to cif_img.dic version 1.1.3
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.7.2.1">0.7.2.1</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;May 2001
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
corrected an if nesting error in the prior mod to cbf_cimple.c.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="#0.7.3">0.7.3</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Oct. 2002
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PJE
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release
modified cbf_simple.c to reorder image data on read so that the 
indices are always increasing in memory (this behavior was 
undefined previously).
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.4">0.7.4</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jan 2004
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release fixes a parse error for 
quoted strings, adds code to get and set character string types, and removes compiler warnings
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.5">0.7.5</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Apr 2006
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release cleans up some
compiler warnings, corrects a parse error on quoted strings with
a leading blank as adds the new routines for support of
aliases, dictionaries and real arrays, higher level routines
to get and set pixel sizes, do cell computations, and to set beam centers,
improves support for conversion of images, picking up more data from
headers.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.6">0.7.6</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jul 2006
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release reorganizes the kit
into two pieces:  CBFlib_0.7.6_Data_Files and CBFlib_0.7.6.  An optional local copy
of getopt is added.  The 1.4 draft dictionary has been added.  cif2cbf
updated to support vcif2 validation.  convert_image and cif2cbf updated
to report text of error messages.  convert_image updated to support
tag and category aliases, default to adxv images.  convert_image and
img updated to support row-major images.  Support added for binning.
API Support added for validation, wide files and line folding.
Logic changed for beam center reporting.  Added new routines:

cbf_validate,
cbf_get_bin_sizes,
cbf_set_bin_sizes,
cbf_find_last_typed_child,
cbf_compose_itemname,
cbf_set_cbf_logfile,
cbf_make_widefile,
cbf_read_anyfile,
cbf_read_widefile,
cbf_write_local_file,
cbf_write_widefile,
cbf_column_number,
cbf_blockitem_number,
cbf_log,
cbf_check_category_tags,
cbf_set_beam_center

<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7">0.7.7</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;February 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release reflects changes
for base 32K support developed by G. Darakev, and changes
for support of reals, 3d arrays, byte_offset compression and
J. P. Abrahams packed compression
made in consultation with (in alphabetic order) E. Eikenberry,  
A. Hammerley, W. Kabsch, M. Kobas, J. Wright and others at PSI
and ESRF in January 2007, as well accumulated changes fixing
problems in release 0.7.6.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.1">0.7.7.1</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;February 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release is a patch
to 0.7.7 to change the treatment of the byteorder parameter from
strcpy semantics to return of a pointer to a string constant. 
Our thanks to E. Eikenberry for pointing out the problem.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.2">0.7.7.2</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;February 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release is a patch
to 0.7.7.1 to add testing for JPA packed compression and to respect
signs declared in the MIME header.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.3">0.7.7.3</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;April 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;This release is a patch
to 0.7.7.3 to add f90 support for reading of CBF byte-offset and
packed compression, to fix problems with gcc 4.4.1 and to correct
errors in multidimensional packed compression.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.4">0.7.7.4</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;May 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Corrects in handling SLS
detector mincbfs and reorder dimensions versus arrays for some
f90 compilers as per H. Powell.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.5">0.7.7.5</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;May 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix to cbf_get_image for bug
reported by F. Remacle, fixes for windows builds as per J. Wright
and F. Remacle.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.7.6">0.7.7.6</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jun 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix to CBF byte-offset compression
writes, fix to Makefiles and m4 for f90 test programs to allow adjustable
record length.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.8">0.7.8</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jul 2007
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Release for full support of
SLS data files with updated convert_minicbf, and support for gfortran
from gcc 4.2.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.8.1">0.7.8.1</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jul 2007<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update to 0.7.8 release to fix
memory leaks reported by N. Sauter and to update validation checks
for recent changes.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.8.2">0.7.8.2</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Dec 2007<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;CN, HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update to 0.7.8.1 to add
ADSC jiffie by Chris Nielsen, and to add ..._fs and ..._sf macros.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.9">0.7.9</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Dec 2007<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;CN, HJB<td>Identical to 0.7.8.2 except for
a cleanup of deprecated examples, e.g. diffrn_frame_data
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.7.9.1">0.7.9.1</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jan 2008<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;CN, HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update to 0.7.8.2 to add
inverse ADSC jiffie by Chris Nielsen, to clean up problems in
handling maps for RasMol.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.8.0">0.8.0</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jul 2008<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;GT, HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Cleanup of 0.7.9.1 to start
0.8 series.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.8.1">0.8.1</a>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Jul 2009
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;EZ, CN, PC, GW, JH, HJB
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;
Release with EZ's 2008 DDLm support using JH's PyCifRW, also
cbff f95 wrapper code, PC's java bindings.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.9.1">0.9.1</a><td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Aug 2010<td
valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PC, EE, JLM, NS, EZ, HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;
Release with EE's Dectris template software,
also with vcif3, new arvai_test, sequence_match.
<tr>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;<a href="ChangeLog.html#0.9.2">0.9.2</a></td>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Feb 2011</td>
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;PC, EE, JLM, NS, EZ, HJB<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;
New default release with updated pycbf, tiff support, removal of
default use of PyCifRW to avoid Fedora license issue.</td>
</tr>

</TABLE>

<HR>
<H3><A NAME="0.9">Release 0.9.2</a>, Herbert J. Bernstein, 12 February 2011</H3>
<p>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile.m4, Makefiles
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changes for libtiff and tiff2cbf. Create a separate
setup.py for MINGW.  Allow  CBF_DONT_USE_LONG_LONG variable to control 
Makefiles.  Disable default use of PyCifRW because of Fedora concerns
about PyCifRW license issues.  Force use of long long for SWIG.
Update Makefiles to run changtestcompression.  Update pycbf build.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_template_t.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Don't use /tmp for dectris template code.
Add EE's change for DLS signs
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_copy.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix cbf_copy.c to handle not using long long correctly


<tr><td valign="top"><font face="Arial,Helvetica,Times">jcbf.i
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Move cbf.i to jcbf directory.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.h, cbf_canonical.h, 
cbf_compress.h, cbf_packed.h, cbf_predictor.h,
cbf_uncompressed.h, cbf.c, cbf_binary.c, cbf_byte_offset.c,
cbf_canonical.c, cbf_compress.c, cbf_packed.c, cbf_predictor.c,
cbf_uncompressed.c, cbff.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Implement P. Chang's fast byte-offset decompress, but with
hooks to run on machines without long long support.
Fix bad mask, fix sign extension for MINGW and other
systems in which long long is not used.  
Fix error in mpint_shift logic causing erroneous sign
Add changes in the compression infrastructure by P. Chang
to make the compressed size available on decompression.
Extend cbf_canonical to support long long and
double.  Correct cbf_packed for elsize 8 data.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbfdetectorwrappers.i, cbfgenericwrappers.i,
cbfgoniometerwrappers.i, cbfhandlewrappers.i,
make_pycbf.py, pycbf.py, pycbf_test2.py, pycbf_wrap.c,
cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update pycbf for 0.9 release
Add cbf_get_detector_axis_slow, cbf_get_detector_axis_fast,
cbf_get_detector_axes, cbf_get_detector_axes_fs, cbf_get_detector_sf,
and changes for pycbf wrapper


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf2adscimg_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix buffer overflow
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif_img_1.6.3_26Aug10.dic, cif_img_1.6.3_26Aug10.html
Add variant category and tags and diffrn_scan_frame_monitor



</table>


<HR>
<H3><A NAME="0.9.1">Release 0.9.1</a>, P. Chang, E. Eikenberry, J. Lewis Muir, N. Sauter, E. Zlateva, Herbert J. Bernstein, 15 August 2010</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix nested axis handling.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_template_t.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add E.E.'s Dectris template software. Change to C-style comments.  

<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile.m4, Makefiles
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add DMALLOC hooks.  

<tr><td valign="top"><font face="Arial,Helvetica,Times">arvai_test.c, seqmatchsub.c, seqmatchsub.h, sequence_match.c,
cbf_copy.h, Makefile.m4, cbf_ascii.c, cbf_copy.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add arvai_test and sequence_match examples.  Transfer copy logic
from cib2cbf into cbf_copy.c

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h, cbf_ascii.h, cbf_file.h, cbf_write.h, cbff.h,
cbf.c, cbf_ascii.c, cbf_file.c, cbf_lex.c, cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per request by J. Lewis Muir, direct all warning messages
through cbf_log or new cbf_flog, so such messages can all
be suppressed by setting the logfile to NULL 

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c, cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix to byte-offset compression for 16 bit data with a delta that looks
like a flag. Fix to setting/getting file position when there is no stream.
Fix incorrect sign extension test as per N. Sauter.

<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_minicbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Allow for changes in miniheader and report unrecognized lines but
continue.  Also allow S/N instead of SN

<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile.m4, Makefiles, Java.txt, testcbf.java, cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per P. Chang, decouple CBF_UNDEFINED error return
from CBF_UNDEFINED node type by defining CBF_UNDEFNODE
(rather than PC's CBF_UNDEFINEDNODE)


<tr><td valign="top"><font face="Arial,Helvetica,Times">drel_prep.py, drel_yacc.py, cif2cbf.c, cbf.h,
cbf.c, cbf_ascii.c, cbf_lex.c,
cbf.stx.y, cbf_getopt.c, cbf_stx.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;vcif 3 release.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h, cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add function cbf_set_column_name

</table>

<HR>
<H3><A NAME="0.8.1">Release 0.8.1</a>, E. Zlateva, C. Neilsen, P. Chang, 
G. Winter, J. Hester, Herbert J. Bernstein, 24 July 2009</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change



<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h, cbf_stx.h, cbf_tree.h, cbf.c, cbf.stx.y,
cbf_lex.c, cbf_stx.c, Makefile.m4, Makefiles
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per EZ, Add DDLm support, parsing of function definitions.
Add auto download of J. Hester's PyCifRW and PLY

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_getopt.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Correct a memory leak and ensure correct handling of unspecified
options when a '-' is given on the option string.

<tr><td valign="top"><font face="Arial,Helvetica,Times">CBFlib.html, CBFlib.txt
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per G. Winter correct documentation of byte-offset algorithm to refer
to hex 80 not hex F0.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_getopt.h, cbf_getopt.c, Makefile.m4, Makefiles, 
cif2cbf.c, convert_image.c, convert_minicbf.c, img2cif.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Introduce cbf_getopt.h, cbf_getopt.c, remove use of getopt


<tr><td valign="top"><font face="Arial,Helvetica,Times">Java.txt, testcbf.c, testcbf.java, Makefile.m4, cbf.i
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;P. Chang's java bindings

<tr><td valign="top"><font face="Arial,Helvetica,Times">libtool directory
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add a libtool build directory for future use of shared libraries.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add test for construct_detector to cif2cbf.
Fix getopt option string.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cif_tree.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add DDLm bracket types for nodes


<tr><td valign="top"><font face="Arial,Helvetica,Times">adscimg2cbf.c, adscimg2cbf_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Apply mods to adscimg2cbf by C. Nielsen:
  Add new command line options:
    --beam_center_from_header,
      Figure out beam center from ADSC header information (default);
    --beam_center_mosflm,
      Beam center in ADSC header: MOSFLM coordinates;
    --beam_center_ulhc,
      Beam center in ADSC header:
        origin: upper left hand corner of image.(HKL mm);
    --beam_center_llhc,
       Beam center in ADSC header:
        origin: lower left hand corner of image.(adxv mm)

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbff.h, cbff.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add src/cbff.c and include/cbff.h as start of full f95 wrapper for C code

</table>

<HR>
<H3><A NAME="0.8.0">Release 0.8.0</a>, G. Todorov, Herbert J. Bernstein, 21 July 2008</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">adscimg2cbf_sub.c, adscimg2cbf_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Patch to deal with gcc 4 optimization error in get_bo
Replaced with call to cbf_get_local_integer_byte_order.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c, cbf.h, cbf_ascii.c, cbf_file.c, cbf_lex.c, cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Clean up spacing; trim trailing blanks in text fields; validate DDLm types.
Add MSG_DIGESTWARN.
Update spacing.
Fix includes for regex use.
Fixes on achar and anchar and element.
Added cbf_check_type_contents function that will verify ddlm types based on regular expressions.
Fix handling for bracketed unquoted words and handle more DDLm tags.
Fix scan of DDLm bracketed constructs with embedded quotes.  Pick
up item names in DDLm save frames.  Fix cif2cbf handling of bracketed
constructs in dictionaries.
Updates to bracketed construct parse and output logic.
Update write logic for bracketed constructs with folding.
cbf_set_tag_category() code fixed.
Change internal routine cbf_read_anyfile and add new user
routine cbf_read_buffered_file to support pre-read of input files
and memory-only files.
Add new routines cbf_io_buffersize and cbf_reset_in_bits and
change read logic to allow buffered reads.
</table>



<HR>
<H3><A NAME="0.7.9.1">Release 0.7.9.1</a>, Chris Nielsen, Herbert J. Bernstein, 24 January 2008</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf2adscimg.c cbf2adscimg_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Last minutes fixes on release:  Put missing byte swap in
cbf2adscimg.c for when byte orders differ.  Bypass problems with gcc
optimization, and handle case then array header is there but invalid.
<tr><td valign="top"><font face="Arial,Helvetica,Times">.symlinks .undosymlinks
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update version to 0.7.9
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile.m4 Makefile, Makefile_AIX ...
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update for CN's jiffies, and testing with MD5
signatures only
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf2adscimg.c cbf2adscimg_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New inverse jiffie by Chris Nielsen of ADSC to convert
CBF files created by convert_image or adscimg2cbf to ADSC detector images.
This version depends on the header extract planted by convert_image
or adscimg2cbf.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix handling of byte offset compression when the data
does not compress.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix 32K encoding big-endian test as per Ladislav Michnovic 
<lmichnovic at suse dot cz>.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Correct mishandling of 64 bit data.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Remove redundant initialization of unsigned_char_data.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix conflicting uses of variable column by introducing
separate variable xcol.
<tr><td valign="top"><font face="Arial,Helvetica,Times">README.html README
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update to version 0.7.9 directory structure and programs.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix local sensitivity of cbf_get_doublevalue
and cbf_set_doublevalue so "."  will be accepted and written as the decimal point in 
locales that use ",".

</table>

<HR>
<H3><A NAME="0.7.9">Release 0.7.9</a>, Chris Nielsen, Herbert J. Bernstein, 30 December 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefiles and test data
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change test cases to avoid deprecated features.

</table>


<HR>
<H3><A NAME="0.7.8.2">Release 0.7.8.2</a>, Chris Nielsen, Herbert J. Bernstein, 25 December 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">adscimg2cbf.c adscimg2cbf_sub.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New jiffie by Chris Nielsen of ADSC to convert
ADSC detector images to CBF.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h cbf_byte_offset.h, cbf_compress.h, cbf_read_mime.h, cbf_simple.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add _fs and _sf versions of 
 cbf_get_arrayparameters_wdims,
 cbf_get_integerarrayparameters_wdims,
 cbf_get_realarrayparameters_wdims,
 cbf_set_integerarray_wdims,
 cbf_set_realarray_wdims,
 cbf_compress_byte_offset,
 cbf_compress, cbf_decompress, 
 cbf_parse_mimeheader, cbf_get_pixel_size,
 cbf_set_pixel_size, cbf_get_image_size, cbf_get_image, 
 cbf_get_real_image, cbf_get_3d_image_size, cbf_get_3d_image,
 cbf_get_real_3d_image, cbf_set_image, cbf_set_real_image, cbf_set_3d_image,
 cbf_set_real_3d_image, cbf_get_map_array_id, cbf_get_map_segment_size,
 cbf_get_map_segment, cbf_get_map_segment_mask, cbf_get_real_map_segment,
 cbf_get_real_map_segment_mask, cbf_set_map_segment, cbf_set_map_segment_mask,
 cbf_set_real_map_segment, cbf_set_real_map_segment_mask, cbf_get_3d_array_size,
 cbf_get_3d_array, cbf_set_3d_array, cbf_get_beam_center, cbf_set_beam_center,
 cbf_set_reference_beam_center, cbf_get_pixel_coordinates, 
 cbf_get_pixel_normal, cbf_get_pixel_area, cbf_get_inferred_pixel_size
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_alloc.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototype of cbf_free_text.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototype of cbf_check_digest.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add definitions of cbf_compress_node and cbf_compress_data,
and prototypes of cbf_make_compressdata, cbf_free_compressdata,
cbf_initialise_compressdata, cbf_put_table, cbf_get_table, cbf_put_stopcode,
cbf_insert_node, cbf_append_node, cbf_order_node, cbf_create_list,
cbf_reduce_list, cbf_generate_codelengths, cbf_reverse_bitcodes,
cbf_generate_canonicalcodes, cbf_compare_bitcodes, cbf_construct_tree, 
cbf_setup_decode, cbf_count_bits, cbf_get_code, cbf_put_code
and cbf_count_values.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototypes of cbf_get_detector_id and 
cbf_gregorian_julian.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_string.c, cbf_string.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_swab function for MS windows and other
machines that do not provide swab.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c, cbf_binary.c, cbf_byte_offset.c, cbf_canonical.c, cbf_compress.c, cbf_lex.c, cbf_packed.c, cbf_predictor.c, cbf_read_mime.c, cbf_simple.c, cbf_uncompressed.c, cbf_write_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change dim1, dim2, dim3 to dimfast, dimmid, dimslow,
ndim1, ndim2 to ndimslow, ndimfast.
machines that do not provide swab.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2c.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Make declaration of xciftmp conditional to avoid compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_image.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add code to check variations on pixel_size functions.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_minicbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add second quick exit option (-Q).  Improve error reporting.
Update for most recent SLS miniheader.
<tr><td valign="top"><font face="Arial,Helvetica,Times">getopt.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix some compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add adscimg2cbf support
<tr><td valign="top"><font face="Arial,Helvetica,Times">template_pilatus6m_2463x2527.cbf
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update pilatus6m template for correct detector axis definitions,
better comments and to list all categories used by SLS.
<tr><td valign="top"><font face="Arial,Helvetica,Times">template_adscquantum315_3072x3072_rev.cbf
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New, corrected ADSC Quantum 315 template.

</TABLE>


<HR>
<H3><A NAME="0.7.8.1">Release 0.7.8.1</a>, Chris Nielsen, Herbert J. Bernstein, 28 July 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Rework cbf_free_handle to ensure release
of memory from root, not current position.  Rework
cbf_read_anyfile to ensure close of file stream
on all exit cases.  Fix save frame code in
cbf_validate to restart counts on each save frame.
Add name, idname and aliasname types from
latest DDL2 dictionary. 
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_alloc.c, cbf_alloc.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_free_text to avoid type punning warnings
from gcc 4.  Add memory debug based on adding -DCBFLIB_MEM_DEBUG
to CFLAGS.  
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add code to ensure against memory leaks
when working with a detector or positioner object.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx.y, cbf_stx.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add calls to cbf_undo_links and cbf_free_text
to clean up memory leaks in parser.  Add validation calls
to mark end of save frames.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c, cbf_tree.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_undo_links to recover memory from
links used to rotate among columns of a table.  Rework
cbf_free_node to avoid memory leaks.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add #define __USE_XOPEN to avoid
a warning on use of swab on some systems.
<tr><td valign="top"><font face="Arial,Helvetica,Times">sauter_test.C Makefile.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add sauter_test to stress test for memory leaks.
On make install, place cbf.h and cbf_simple.h into include
directory.
</TABLE>


<HR>
<H3><A NAME="0.7.8">Release 0.7.8</a>, Herbert J. Bernstein, 8 July 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update handling of both beam center and
reference beam center to allow for units and new dictionary.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_minicbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add code to handle data in _array_data.header-contents.
Clean up error handling, map all SLS tags.  Add -Q option to
convert old SLS comment format to new text field format.
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile, Makefile_AIX, Makefile_LINUX, Makefile_OSX
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per ND add Makefile_LINUX_gcc42 and Makefile_OSX_gcc42
to handle gfortran 4.2 problems.
</TABLE>

<HR>
<H3><A NAME="0.7.7.6">Release 0.7.7.6</a>, Herbert J. Bernstein, 30 June 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix memory leaks in base32k encoding by G. Darakev.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix in handling 32 bit offsets in the fast write
code, which were incorrectly handled as 16 bit offsets.
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile, Makefile_AIX, Makefile_LINUX, Makefile_OSX
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add M4FLAGS variable to control m4 expansion of
f90 test programs with different record lengths.  For g95, the
record length must not be larger than the padding.
</TABLE>


<HR>
<H3><A NAME="0.7.7.5">Release 0.7.7.5</a>, Herbert J. Bernstein, 9 May 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change from use of bzero to memset and remove
include of strings.h
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change from use of bzero to memset and remove
include of strings.h
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix ordering of dimensions in cbf_get_3d_array_size
and handling of non-zero binary ids to fix problems with
cbf_get_image and cbf_get_image_size
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add include of unistd.h for use of swab on
more systems
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Introduce $(TIME) variable for time command so
it can be suppressed in windows
<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_bits.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changes for g95 compatibility.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2c.c, cif2cbf.c, etc.
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Make use of mkstemp conditional on NOMKSTEMP.  Make use
of /tmp conditional on NOTMPDIR.

 

</TABLE>


<HR>
<H3><A NAME="0.7.7.4">Release 0.7.7.4</a>, Herbert J. Bernstein, 6 May 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix ordering of dimensions in cbf_set_3d_array.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add include of ctype.h to provide prototype for toupper.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_image.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Enable -p option for non-standard templates; correct
handling of seconds in timestamps.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_minicbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Enable code for timestamp, exposure time, comment-style header.
<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_packed.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_image.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
<tr><td valign="top"><font face="Arial,Helvetica,Times">fcblib_defines.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
</TABLE>



<HR>
<H3><A NAME="0.7.7.3">Release 0.7.7.3</a>, Herbert J. Bernstein, 3 April 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add m4 directory to build f90 sources.  Add .f90
routines to src and examples.  Add libfcb.a to lib.  Add tests
for f90 routines to extra tests.

<tr><td valign="top"><font face="Arial,Helvetica,Times">testflat.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support for 3D test.

<tr><td valign="top"><font face="Arial,Helvetica,Times">testflatpacked.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support for 3D test.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Correct dim2,dim2 to be dim1,dim2 in check_digest.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Correct JPA pointer logic for 3D case.  Work around
compiler problems with handling of sign bits

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_exit_binary.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_exit_binary.f90
a routine to skip from the end of a binary to the end of the text field.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_next_binary.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_next_binary.f90
a routine to skip to the start of the next binary.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_open_cifin.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_open_cifin.f90
a routine to open a cbf file.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_packed.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_packed.f90
a routine to uncompress JPA packed binaries.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_bits.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_read_bits.f90
a routine to read an arbitrary number of bits as an integer.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_image.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_read_image.f90
a set of routines to read a byte offset or packed image

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_xds_i2.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file to build fcb_read_xds_i2.f90
a routine to read a single xds I2 image.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcblib_define.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file of common definitions for all f90 code

<tr><td valign="top"><font face="Arial,Helvetica,Times">test_fcb_read_image.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file of build test_fcb_read_image.f90
a test program for the f90 routines.

<tr><td valign="top"><font face="Arial,Helvetica,Times">test_xds_binary.m4
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New m4 macro file of build test_xds_binary.f90
a test program for the f90 routines.

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_atol_wcnt.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to convert a string to an integer.


<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_ci_strncmparr.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to do a case-insensitive string comparison

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_nblen.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to do test the non-blank length of a string


<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_byte.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to read a byte

<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_read_line.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to read a line


<tr><td valign="top"><font face="Arial,Helvetica,Times">fcb_skip_whitespace.f90
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;f90 code to skip MIME whitespace










</TABLE>


<HR>
<H3><A NAME="0.7.7.2">Release 0.7.7.2</a>, Herbert J. Bernstein, 27 February 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add testflatpacked build to extra test dependencies.

<tr><td valign="top"><font face="Arial,Helvetica,Times">testflat.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add more test cases.


<tr><td valign="top"><font face="Arial,Helvetica,Times">testflatpacked.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add version of testflat for packed compression.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add recovery of sign from mime header.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

</TABLE>

<HR>


<H3><A NAME="0.7.7.1">Release 0.7.7.1</a>, Herbert J. Bernstein, 25 February 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add testflat build to extra test dependencies.

<tr><td valign="top"><font face="Arial,Helvetica,Times">CBFlib.html
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add descriptions of cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims, cbf_set_integerarray_wdims,
cbf_set_realarray_wdims

<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change to use of byteorder as a pointer to a
constant string, rather than as a local copy of a string.

<tr><td valign="top"><font face="Arial,Helvetica,Times">testflat.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add report of byteorder, dim1, dim2, dim2, padding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h,<br />cbf_binary.h,<br />cbf_byte_offset.h,<br />cbf_canonical.h,<br />cbf_compress.h,<br />cbf_packed.h,<br />cbf_predictor.h,<br />cbf_read_mime.h,<br />cbf_uncompressed.h
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change prototypes for all functions that return
byteorder from char * byteorder to const char ** byteorder.
Change prototypes of all functions that set byteorder from
char * byteorder to const char * byteorder

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c,<br />cbf_binary.c,<br />cbf_byte_offset.c,<br />cbf_canonical.c,<br />cbf_compress.c,<br />cbf_lex.c,<br />cbf_packed.c,<br />cbf_predictor.c,<br />cbf_read_mime.c,<br />cbf_uncompressed.c,<br />cbf_write_binary.c
<td valign="top"><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change signatures for all functions that return
byteorder from char * byteorder to const char ** byteorder.
Change prototypes of all functions that set byteorder from
char * byteorder to const char * byteorder, and make the matching changes
in all calls.
</TABLE>

<HR>
<H3><A NAME="0.7.7">Release 0.7.7</a>, Herbert J. Bernstein, 19 February 2007</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support for byte offset, packed version 2 
and flat compression, and binary section padding.  Add support
for base-32K encoding.  Allow command line compression to
override compression_type in the file and to set 
compression_type_flag.

<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_image.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support for new -R and -F flags, for
use of reference beam center and flat packed compression
respectively.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add constants CBF_PACKED_V2
for packed version 2 compression, 
CBF_UNCORRELATED_SECTIONS for uncorrelated
sections in packed compression,
CBF_FLAT_IMAGE for original CBFlib
packed compression, PAD_1K, PAD_2K and
PAD_4K for trailing pad on binary sections,
ENC_BASE32K for base 32K encoding.  Fix bad
code in DEBUG mode for failnez macros.
Add prototypes for cbf_get_arrayparameters_wdims,
cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims,
cbf_set_integerarray_wdims,
cbf_set_realarray_wdims,
cbf_mpint_load_acc,
cbf_mpint_store_acc,
cbf_mpint_clear_acc,
cbf_mpint_increment_acc,
cbf_mpint_decrement_acc,
cbf_mpint_negate_acc,
cbf_mpint_add_acc,
cbf_mpint_rightshift_acc,
cbf_mpint_leftshift_acc.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_get_bintext, cbf_set_bintext,
cbf_set_binary, cbf_binary_parameters,
cbf_get_binary to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_compress_byte_offset,
cbf_decompress_byte_offset to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_compress_canonical,
cbf_decompress_canonical to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototypes for base 32K
encoding: cbf_tobase32k, cbf_encode32k_bit_op,
cbf_isBigEndian, cbf_endianFix,
cbf_frombase32k, cbf_decode32k_bit_op.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp; Update prototypes
for cbf_compress, cbf_decompress
to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_compress_packed,
cbf_decompress_packed to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_compress_predictor,
cbf_decompress_predictor to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototype
for cbf_parse_mimeheader to carry byteorder,
dimensions and padding.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototypes for
cbf_get_3d_array_size,
cbf_get_3d_array,
cbf_get_3d_image_size,
cbf_get_3d_image,
cbf_get_map_array_id,
cbf_get_map_segment_mask,
cbf_get_map_segment_size,
cbf_get_map_segment,
cbf_get_real_3d_image,
cbf_get_real_map_segment,
cbf_get_real_map_segment_mask,
cbf_set_3d_array,
cbf_set_3d_image,
cbf_set_map_segment,
cbf_set_map_segment_mask,
cbf_set_real_3d_image,
cbf_set_real_map_segment,
cbf_set_real_map_segment_mask.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update prototypes
for cbf_compress_none,
cbf_decompress_none to carry byteorder,
dimensions and padding.


<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update version and tests
to work against data files in
CBFlib_0.7.7_Data_Files.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;
Remove compiler warnings on signedness
and type punned pointers.
Fix bug in detection of local real format.
Add base32K support.
Fix inverted test in value range checking.
Add new routines cbf_get_arrayparameters_wdims,
cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims,
cbf_set_integerarray_wdims,
cbf_set_realarray_wdims,
cbf_mpint_load_acc,
cbf_mpint_store_acc,
cbf_mpint_clear_acc,
cbf_mpint_increment_acc,
cbf_mpint_decrement_acc,
cbf_mpint_negate_acc,
cbf_mpint_add_acc,
cbf_mpint_rightshift_acc,
cbf_mpint_leftshift_acc.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx.y
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Temporarily change to
use of YYSTYPE argument type to
remove an error when compiling under
on MS Windows.  A better solution is
needed./

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update cbf_get_bintext, cbf_set_bintext,
cbf_set_binary, cbf_binary_parameters,
cbf_get_binary to carry byteorder,
dimensions and padding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Implement byte_offset
compression and decompression as
designed by A. Hammersley and
modified by W. Kabsch.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.  Update  cbf_compress_canonical,
cbf_decompress_canonical to carry byteorder,
dimensions and padding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support forr base 32K
encoding: cbf_tobase32k, cbf_encode32k_bit_op,
cbf_isBigEndian, cbf_endianFix,
cbf_frombase32k, cbf_decode32k_bit_op.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp; Update 
 cbf_compress, cbf_decompress
 carry byteorder,
dimensions and padding.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add support for
byteorder, dimensions and padding
and base 32K encoding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update cbf_compress_packed,
cbf_decompress_packed to carry byteorder,
dimensions and padding.  Add support
for J. P. Abrahams packed compression,
versions 1 and 2, while preserving
support for original CBFlib flat packed
compression.  Add support for 64 bit
elements.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update cbf_compress_predictor,
cbf_decompress_predictor to carry byteorder,
dimensions and padding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change logic of most
image handling routines to work as special
cases of 3d routines.  Add new routines
cbf_get_detector_id,
cbf_get_real_map_segment,
cbf_get_real_map_segment_mask,
cbf_set_map_segment,
cbf_set_map_segment_mask,
cbf_set_real_map_segment,
cbf_set_real_map_segment_mask,
cbf_get_3d_array_size,
cbf_get_3d_array,
cbf_set_3d_array,
cbf_get_axis_reference_setting,
cbf_set_axis_reference_setting,
cbf_construct_reference_detector,
cbf_require_reference_detector,
cbf_set_reference_beam_center.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Update cbf_parse_mimeheader to read
MIME headers for new compression types and
flags and byteorder, dimensions and padding.
Add support for base 32K encoding.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix handling of 64-bit
reads and writes. 

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add code to write out
base-32K encoded sections, to write
byte order, dimensions and padding.  Add code
to write out MIME headers for
packed compressions or packed version 2
compression with flags for uncorrelated
sections and for flat packed images.
</TABLE>

<HR>
<H3><A NAME="0.7.6">Release 0.7.6</a>, Herbert J. Bernstein, 15 July 2006</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add include of stdio.h; change CBF_LINELENGTH
into CBF_LINELENGTH_10 and CBF_LINELENGTH_11; add new symbols
CBF_CASE_INSENSITIVE, CBF_CASE_SENSITIVE, CBF_LOGERROR,
CBF_LOGWARNING, CBF_LOGWOLINE, CBF_LOGWOCOLUMN, CBF_LOGSTARTLOC,
CBF_LOGCURRENTLOC; add information on input file and
log file to cbf handle struct; and prototypes for
cbf_read_widefile, cbf_write_local_file, cbf_write_widefile,
cbf_column_number, cbf_blockitem_number, cbf_warning,
cbf_error, cbf_log, cbf_increment_column, cbf_reset_column,
cbf_reset_refcounts, cbf_validate; added valuerow argument 
to cbf_set_hashedvalue
and caseinsensitive to cbf_find_hashedvalue.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;In cbf_make_handle, added include of cbf_ascii.h,
initialized handle->logfile, handle->warnings, handle->errors,
handle->startline, handle->startcolumn; added new routine
cbf_set_logfile; in cbf_free_handle removed gcc4 warning;
broke up cbf_read_file into cbf_read_anyfile, cbf_read_file,
added two more entries to parse array, one for the cbf handle
and one to carry an auxillary node, such as a parent
category; in cbf_write_file, reset reference counts; added
new routine cbf_write_local_file to allow writing of a local
portion of a cbf instead of the whole thing; added new routines
cbf_column_number and cbf_blockitem_number; added new
routine cbf_log to report parse errors with line numbers;
fixed cbf_require_category when dealing with null datablocks;
fixed cbf_require_column to preserve current row number;
fixed inverted logic in cbf_require_dictionary; rewrote
cbf_set_hashed_value to deal with insertions correctly;
revised cbf_find_hashedvalue to survive commong errors;
revised cbf_convert_dictionary_definition to recover
category information properly and top deal with more
complex loop-singleton interactions; added new routines
cbf_increment_column, cbf_reset_column, cbf_reset_refcounts;
updated cbf_convert_dictionary to align database with changes
in cbf_convert_dictionary_definition and to distribute
unspecified items from parents to children; fixed 
cbf_find_local_tag for DDL1 names and categories;
updated cbf_find_category_root and cbf_require_category_root
to allow for DDL1 categories drawn from dictionaries; 
changed cbf_find_tag_root and cbf_set_tag_root to use 
cbf_find_hashedvalue and cbf_set_hashedvalue; added routines
cbf_check_category_tags, cbf_validate.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx.y
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;To facilitate validation, changed save frame
logic to append partial save frame to the base cif from the
beginning instead of waiting for the end of the save frame;
added cbf_validate calls at all levels and provided detailed
parse form common errors with reports via cbf_log
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototype for cbf_foldtextline.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Added new routine cbf_foldtextline; in
cbf_write_ascii changed logic to no longer backslash-quote
individual embedded semicolons in text fields and to
use full line-folding spec;
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;fixed gcc4 warning.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_cantext.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;fixed gcc4 warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add columnlimit to strcut; add
prototype for cbf_make_widefile.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;In cbf_make_file added intialization of line 
length; added new routine cbf_make_widefile; in
cbf_read_character do not increment column number at EOF;
in cbf_read_line report lines over the limit
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Added lexical validation for line length,
illegal characters, long data block names, long save frame
names, failure to provide whitespace after loop_, unterminated
quoted strings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Fix gcc4 warnings
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Pick up corrections to parse of types from
work by GD for X-BASE32K.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototypes for cbf_get_bin_sizes, 
cbf_set_bin_sizes
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changed cbf_read_template to use cbf_read_widefile;
added new routines cbf_get_bin_sizes and cbf_set_bin_sizes;
changed cbf_set_gain, cbf_set_overload, cbf_set_integration_time,
cbf_set_datestamp, cbf_set_axis_setting to force in intervening 
categories and columns; in cbf_free_positioner, cbf_free_detector,
fixed gcc4 warnings; revised cbf_set_beam_center to adjust the
displacement rather than the offset.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add symbol for CBF_VALUE as a node type to
use for validation; add prototype for cbf_find_last_typed_child.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;In cbf_free_node fixed gcc4 warning; added
new routine cbf_find_last_typed_child; changed cbf_make_child
to use cbf_find_last_typed_child instead of cbf_fid_last_child
to avoid confusion between categories and save frames when
the same name is used for both; changed cbf_compute_hashcode
to return values between 0 and 255.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.d
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add prototype for cbf_compose_itemname.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;In cbf_set_value fold text fields that contain
the text field terminator; add new routine cbf_compose_itemname,
int cbf_write_itemname catch names that are too long; 
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add "-v dictionary" command line argument
and suppress output to /dev/null and "-w" to process a
wide file; add hooks (based on symbol GNUGETOPT) to use
a local copy of getopt; add text for error exits; add code
to load layered dictionaries.
<tr><td valign="top"><font face="Arial,Helvetica,Times">convert_image.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add text for error exits; add logic for
binning; alias support with command line arguments
"-c category_alias=category_root" and "-t tag_alias=tag_root",
change from _diffrn_detector.sample_detector_distance
to _diffrn_measurement.sample_detector_distance; change
to support row-major images to agree with adxv; remove
most advisory messages to stdout.
<tr><td valign="top"><font face="Arial,Helvetica,Times">img.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Added rowmajor to struct; redefined img_pixel
to be conditional on rowmajor; added img_pixelptr to get
the pointers to the image.
<tr><td valign="top"><font face="Arial,Helvetica,Times">img.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Added recognition of ADSC QUANTUM315;
added row major support
<tr><td valign="top"><font face="Arial,Helvetica,Times">img2cif.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changed to use to new img.h macros
<tr><td valign="top"><font face="Arial,Helvetica,Times">makecbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changed to use to new img.h macros

</TABLE>

<HR>
<H3><A NAME="0.7.5">Release 0.7.5</a>, Herbert J. Bernstein, 15 April 2006</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses; added
support for aliases, dictionaries and real arrays; added
convenience routines to do searches with default creation
of what is being searched for; added reference count and 
dictionary link for cbf handles; added cbf_new_saveframe, 
cbf_force_new_saveframe, cbf_set_saveframename,
cbf_reset_saveframe, cbf_remove_saveframe, cbf_rewind_saveframe,
cbf_rewind_blockitem, cbf_next_saveframe, cbf_next_blockitem,
cbf_select_saveframe, cbf_select_blockitem, cbf_find_saveframe,
cbf_require_row, cbf_require_nextrow, cbf_count_saveframes,
cbf_count_blockitems, cbf_saveframe_name, cbf_require_value, 
cbf_require_integervalue, cbf_require_doublevalue, 
cbf_get_realarrayparameters, cbf_get_realarray, cbf_set_realarray,
cbf_require_datablock, cbf_require_category, cbf_require_column, 
cbf_require_column_value, cbf_require_column_integervalue, 
cbf_require_column_doublevalue, cbf_get_local_integer_byte_order,
cbf_get_local_real_byte_order, cbf_get_local_real_format,
cbf_get_dictionary, cbf_set_dictionary, cbf_require_dictionary, 
cbf_set_hashedvalue, cbf_find_hashedvalue, 
cbf_convert_dictionary_definition, cbf_convert_dictionary, 
cbf_find_tag, cbf_find_local_tag, cbf_srch_tag, 
cbf_find_category_root, cbf_require_category_root,
cbf_set_category_root, cbf_find_tag_root, cbf_require_tag_root,
cbf_set_tag_root, cbf_find_tag_category, cbf_set_tag_category.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added definitions of CBF_API_VERSION  and CBF_DIC_VERSION;
changed the debug versions of cbf_failnez and cbf_onfailnez
to stringfy the argument; added dictionary and reference
count to cbf_handle definition; added prototypes for
cbf_new_saveframe, cbf_force_new_saveframe, cbf_set_saveframename,
cbf_remove_saveframe, cbf_rewind_saveframe, cbf_rewind_blockitem, 
cbf_next_saveframe, cbf_next_blockitem, cbf_saveframe_name,
cbf_select_saveframe, cbf_select_blockitem, cbf_find_saveframe,
cbf_require_row, cbf_require_nextrow, cbf_count_saveframes, 
cbf_count_blockitems, cbf_require_value, 
cbf_require_integervalue, cbf_require_doublevalue, 
cbf_get_realarrayparameters, cbf_get_realarray, cbf_set_realarray, 
cbf_require_datablock, cbf_require_category, cbf_require_column, 
cbf_require_column_value, cbf_require_column_integervalue, 
cbf_require_column_doublevalue, cbf_get_local_integer_byte_order, 
cbf_get_local_real_byte_order, cbf_get_local_real_format, 
cbf_get_dictionary, cbf_set_dictionary, cbf_require_dictionary,
cbf_set_hashedvalue, cbf_find_hashedvalue, 
cbf_convert_dictionary_definition, cbf_convert_dictionary, 
cbf_find_tag, cbf_find_local_tag, cbf_srch_tag, 
cbf_find_category_root, cbf_require_category_root, 
cbf_set_category_root, cbf_find_tag_root, cbf_require_tag_root,
cbf_set_tag_root, cbf_find_tag_category, cbf_set_tag_category,


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_alloc.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_alloc.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signature for support of real arrays; no actual
changes to the code.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signature for support of real arrays; no actual
changes to the code.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_context.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_context.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays, making extensive changes
to the handling of integers to get past 32 bit limits.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses..

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added save frame support; required whitespace before a
comment; changed WORD to CBFWORD; corrected quoted string
parse to allow for a blank immediately after the opening 
quote mark.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
increased precision of all numbers to 15 digits;
added support for cells and orientation matrices; built 
in support for diffrn_frame_data as an alternative to 
diffrn_data_frame; added new routines cbf_require_diffrn_id,
cbf_get_pixel_size, cbf_set_pixel_size, cbf_get_real_image,
cbf_set_real_image, int cbf_require_detector,
cbf_set_beam_center, cbf_get_inferred_pixel_size,
cbf_get_unit_cell, cbf_set_unit_cell, cbf_get_reciprocal_cell,
cbf_set_reciprocal_cell, cbf_compute_cell_volume,
cbf_compute_reciprocal_cell, cbf_get_orientation_matrix,
cbf_set_orientation_matrix; added braces to deal with
compiler warnings on dangling else.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added prototypes for  cbf_require_diffrn_id, 
cbf_get_array_id, cbf_get_pixel_size, cbf_set_pixel_size, 
cbf_get_real_image, cbf_set_real_image, 
cbf_require_detector, cbf_set_beam_center, 
cbf_get_inferred_pixel_size, cbf_get_unit_cell, 
cbf_set_unit_cell, cbf_get_reciprocal_cell, 
cbf_set_reciprocal_cell, cbf_compute_cell_volume, 
cbf_compute_reciprocal_cell, cbf_get_orientation_matrix, 
cbf_set_orientation_matrix.



<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_string.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_string.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Rebuilt from new cbf.stx.y.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Changed WORD to CBFWORD; added SAVE and
SAVEEND.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx.y	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
Revised grammar to support save frames and to be
more comprehensible; changed name from cbf.stx


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added code to support save frames, allowing typed
searches for children; added new routines cbf_find_typed_child,
cbf_count_typed_children, cbf_compute_hashcode.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added definition of CBF_SAVEFRAME as node type; added
prototypes for cbf_find_typed_child, cbf_count_typed_children, 
cbf_compute_hashcode.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.uncompressed.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
Added support for real arrays, and to remove 32 bit limits.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.uncompressed.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
Added support for real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.write.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support for save frames and aliases; changed logic
for single row categories to present item-by-item,
instead of as a loop except for vectors and matrices,
present matrices row by row; carried cbf handle through
nest of calls.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.write.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
adjusted prototype of cbf_write_node to carry the
cbf handle as the first argument.


<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.write_binary.c	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.write_binary.h	
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses.


<tr><td valign="top"><font face="Arial,Helvetica,Times">Makefile
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
defined C++; added symbol RANLIB for use on systems that
require a ranlib pass after creating a library with ar; 
added build and tests of testcell and cif2c; added
ADSC test case to tests of convert_image; updated list
of contents of tar;changed cbf.stx to cbf.stx.y.

<tr><td valign="top"><font face="Arial,Helvetica,Times">connvert_image.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
added command line arguments for detector name, detector
distance, rotation and reflection of the image; added
usage report on errors; added code for axis transforms;
added code to report image header fields; cleaned up PHI
reporting; recovered pixel size and beam center from header;
commented out most debug code.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
renamed BUFSIZ as C2CBUFSIZ to remove a compiler warning;
process save frames.

<tr><td valign="top"><font face="Arial,Helvetica,Times">img2cif.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Revised header for open source licenses;
renamed BUFSIZ as I2CBUFSIZ to remove a compiler warning.

<tr><td valign="top"><font face="Arial,Helvetica,Times">testcell.C
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New program to test cell functions.

<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2c.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New program to test cell functions.

</TABLE>

<HR>
<H3><A NAME="0.7.4">Release 0.7.4</a>, Herbert J. Bernstein, 12 January 
2004</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added cbf_set_typeofvalue, cbf_get_typeofvalue; added
braces for nested if-else to remove a compiler warning.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;simplied dynamic array logic
and went to straight doubling; added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;changed parse of quoted
strings to allow for embedded quote marks;
removed unused variables; fixed mismatch
of formats; added braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings; intialized
variables.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;typed default typed variable;
removed unused variables; added
braces to remove a compiler warnings; intialized
variables.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added
braces to remove a compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added internal functions 
cbf_get_value_type and cbf_set_value_type
for typeofvalue functions; updated magic number
and set magic number to match dictionary, not
CBFlib version; initialized variable.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added new external
typeofvalue function prototypes;
added notices.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added new value_type function
prototypes.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added code to transfer typeofvalue
from input to output to fix handling of nulls;
increased buffer to 8192 and called it BUFSIZ;
changed from tmpnam to mkstemp to remove warning;
unlinked temporary file; added braces to remove
compiler warnings.
<tr><td valign="top"><font face="Arial,Helvetica,Times">img2cif.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added code to transfer typeofvalue
from input to output to fix handling of nulls;
increased buffer to 8192 and called it BUFSIZ;
changed from tmpnam to mkstemp to remove warning;
unlinked temporary file; removed unused variables.
</TABLE>
<HR>
<H3><A NAME="0.7.3">Release 0.7.3</a>, Paul J. Ellis, 2 October 
2002</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;modified cbf_get_image to reorder the
image data on read so that the indices are always 
increasing in memory (this behavior was undefined 
previously).
</TABLE>
<P>
Note:  Early versions of Release 0.7.3 carried the version number
0.7.2.3.  Other than the change in number on 7 Nov 2002, there is no 
difference between these versions. 
<HR>
<H3><A NAME="0.7.2.1">Release 0.7.2.1</a>, Paul J. Ellis, 7 May 
2001</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;corrected nesting in if statements introduced for 
the prior mod.
</TABLE>
<HR>
<H3><A NAME="0.7.2">Release 0.7.2</a>, Herbert J. Bernstein, 22 April 2001</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;changed _diffrn_measurement_axis.id (now deprecated) to _diffrn_measurement_axis.measurement_id
and _diffrn_detector_axis.id (now deprecated) to _diffrn_detector_axis.detector_id, but allowed old forms
as aliases.
</TABLE>
<HR>
<H3><A NAME="0.7.1">Release 0.7.1</a>, Paul J. Ellis, 30 March 2001</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add reserved argument to various routines;
in cbf_update_pixel use index2 instead of index1;
add new routine cbf_get_pixel_normal; 
in cbf_get_pixel_area, shift by (-0.5,-0.5)<BR>

</TABLE>
<HR>
<H3><A NAME="0.7.1">Release 0.7.1</a>, Paul J. Ellis, 13 March 2001</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove unused declaration of little.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add definitions of CBF_UNDEFINED and CBF_NOTIMPLEMENTED.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;cast type argument to (char) in cbf_copy-string call.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove unused declaration of compression_file.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add this new routine for higher level calls.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_simple.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add this new header for higher level calls.
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove unused declaration of bit.
</TABLE>

<HR>
<H3><A NAME="0.6.1">Release 0.6.1</a>, H. Powell (per Herbert J. Bernstein), 23 February 2001</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;fix memory leak as corrected by H. Powell<BR>
</TABLE>
<HR>
<H3><A NAME="0.6">Release 0.6</a>, Herbert J. Bernstein, 13 January 1999</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_set_integerarray<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_set_integerarray<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression id in text as argument to
                 cbf_get/set_bintext, remove repeat as argument
                 to cbf_set_binary<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression id in text, rather than header,
	                as an argument to cbf_get/set_bintext, remove
	                repeat as argument to cbf_set_binary<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_byte_offset<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_byte_offset<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_canonical<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_canonical<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress, change argument
compression from pointer to value in cbf_decompress_parameters<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress, use compression as
an input argument in cbf_decompress_parameters,
 do not write compression id<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;tune buffer size allocations to current size<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_packed<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_packed<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_predictor<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_predictor<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;make pointer to compression an argument 
to cbf_parse_binaryheader<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add prototype for cbf_nblen<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header, allow
	                trailing blanks on header lines, test for early
	                terminations, allow arbitrary spacing on element
	                type, add cbf_nblen<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;rebuilt from cbf.stx with bison 1.25<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;tune allocation of memory for extra children
	                to current use levels<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_none<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove argument repeat from cbf_compress_none<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;update version numbers in file headers<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header,
	                quote X-Binary-Element-Type<BR>
</TABLE>
<HR>
<H3><A NAME="0.5">Release 0.5</a>, Paul J. Ellis, 5 December 1998</H3>
<P>
<TABLE>
<tr><th align="left" WIDTH="18%"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change



<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add option for immediate digest evaluation (MSG_DIGESTNOW)
	       or deferred digest evaluation (MSG_DIGEST); adjust layout
	       of error messages; remove unused repeat. <BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add new argument for cbf_set_columnrow.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add buffer flush.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add call to cbf_codes.h; convert to use of cbf_get/set_bintext;
	       digests saved in the text for deferred evaluation.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_byte_offset.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Stylistic cleanup; add storedbits argument on compression; 
	       remove repeat  on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add routines cbf_is_base64digest, cbf_md5digest_to64,
	       flush buffers when done, general cleanup<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add argument bits to cbf_compress and each actual compression
	       routine, add bits and remove repeat on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Reorganize digest logic; remove nblen argument from
	       cbf_read_line.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Argument type and stylisic cleanup; allow for deferred digest
	       evaluation, adjust binary size to agree with MIME size.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Stylistic cleanup; add storedbits argument on compression; 
	       remove repeat  on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add binary element type logic; cleanup header scan; allow for
	       deferred digest evaluation.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add argument free to cbf_set_columnrow.  If free is true,
	       free the old value, otherwise a user responsibility.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add buffer flush.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Reorganize digest calculation, adjust binary size by 8,
	       add X-Binary-E;ement-Type.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">global.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Change definition of UINT4 from unsigned long int to
               unsigned int.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">md5.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Mask 32 bits for longer words.<BR>
</TABLE>

<HR>
<H3><A NAME="0.4" WIDTH="18%">Release 0.4</a>, Herbert J. Bernstein, 15 November 1998</H3>
<P>
<TABLE>
<tr><th align="left"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;rebuilt from cbf.stx with bison 1.25<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add digest, elsize, elsign to text<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove write of compression id<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add argument *digest to cbf_fromqp, cbf_frombase64,
cbf_frombasex<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add mpack notice, add cbf_md5context_to64, add
	                digest to cbf_from... <BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add argument *digest to cbf_compress<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add digest to cbf_compress<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add nscolumn, digest_buffer,
                        digest_bpoint, context to cbf_file struct,
                        add argument *nblen to cbf_read_line<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add file->nscolumn, file->digest_buffer,
                        file->digest_bpoint, update digest when writing<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, compute digests on intial read<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;do not write compression id<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.h
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add prototype for cbf_skip_whitespace, add
argument *compression to cbf_parse_mimeheader<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, remove redundant digest calculation,
	                adjust handling of compression id, add
	                cbf_skip_whitespace, have cbf_parse_mimeheader
	                return compression id, add checks for garbled
	                files, allow more general headers<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;make uncompressed section free of headers<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;update version in headers<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;carry digest, elsize, elsign in text rather
	                than header<BR>
</TABLE>

<HR>
<H3><A NAME="0.3" WIDTH="18%">Release 0.3.1.1</a>, Paul J. Ellis, 21 September 1998</H3>
<P>
<TABLE>
<tr><th align="left"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove globals, add tolen CBF_TOKEN_MIME_BIN, change
	            MIME_NOHEADERS to PLAIN_HEADERS, add HDR_DEFAULT,
	            add arguments ciforcbf, headers, encoding to
	            cbf_write_file, add argument headers to cbf_read_file,
	            restore const in several places, merge
	            int cbf_get_integerarrayparams into
	            cbf_get_integerarrayparameters<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp; add notices, add argument headers to cbf_read_file
	             to replace use of globals in release 0.2, add
	             arguments ciforcbf, headers, encoding to cbf_write_file 
	             to replace use of globals in release 0.2, restore 
	             some uses of const, remove integerarrayparams and merge
	             arguments into cbf_get_integerparameters, replace
	             cbf_binary_params with cbf_binary_parameters with
	             extended argument list<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, remove gcc use of malloc, define alloca(x)
	             as NULL, and set large inital depth, adopts mods from
	             cbf.stx.y in release 0.2<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_alloc.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;change use of range of token values to explicit
	             symbolic tokens<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;merge cbf_binary_params into cbf_binary_parameters,
	            remove cbf_write_binary<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add cbf_read_mime.h, and CBF_TOKEN_MIME_BIN token,
	             use cbf_set/get_fileposition, merge cbf_binary_params
	             into cbf_binary_parameters, restore some uses of const,
	             use cbf_decompress_parameters with extended argument list,
	             use cbf_mime_temp, move cbf_write_binary to its own
	             file.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add argument binsize to cbf_compress_canonical,
	            add argument repeat to cbf_decompress_canonical<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, remove binbitcount, handle binsize as
	             an argument<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;revise notices, major cleanup.<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, add compressedsize argument, add repeat
	             to decompression calls<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_context.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add argument compressedsize to cbf_compress,
	             repeat to cbf_decompress<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;map "text..." to "buffer..." in cbf_file, remove
 	             CBFbytedir, change cbf_set_textsize to cbf_set_buffersize,
	             add cbf_reset_buffer, add cbf_get_buffer, change
	             cbf_get/put_text to cbf_get/put_block, add
	             cbf_get/set_position
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c  <BR>
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, change file->text to file->buffer,
	             file->text_size to file->buffer_size,
	             file->text_used to file->buffer_used,
	             file->read_headers, file->write_headers,
	             file->write_encoding,  remove file->fpos, file->fend,
	             add cbf_get/set_fileposition<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;read by buffers, move MIME processing later in the
	             flow<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.h <BR>
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add compressedsize argument to cbf-compress-packed,
	             repeat to cbf_decompress_packed, remove ..none,
	             ..byte_off, ..predict<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, add bitcount argument to cbf_pack_chunk<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_predictor.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_binary.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_read_mime.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_string.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_string.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine, replacing string.c<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Rebuild of cbf.stx with bison A2.6<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.h   
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;remove CBF_INDEX, cbf_init_index, cbf_add_index,
	              cleanup, add const<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, general cleanup, restore const, remove
	             cbf_init_index, cbf_add_index<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_uncompressed.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;add notices, change tests for "?" and ".",
	             change range test on tokens to explicit list<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new header<BR>

<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write_binary.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">global.h     
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;new routine with part of md5.h<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">md5c.c       
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;use global.h<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">md5.h        
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;move portion of this header to global.h, from whence
	             it came<BR>
</TABLE>

<HR>
<H3><A NAME="0.2" WIDTH="18%">Release 0.2</a>, Herbert J. Bernstein, 27 August 1998</H3>
<P>
<TABLE>
<tr><th align="left"><font face="Arial,Helvetica,Times">Source File<th align="left"><font face="Arial,Helvetica,Times">Change
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Define CBF and CIF, add cbf_force_new_datablock,
	               cbf_force_new_category, remove some uses of const,
	               add, cbf_get_integerarrayparams, add
	               globals CBForCIF, CIFCRterm, CIFNLterm, CBFbinsize,
	               CBFmime, CBFdigest, CBFencoding, CBFelsize, CBFbytedir<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Define CBF and CIF, add cbf_force_new_datablock,
	               cbf_force_new_category, remove some uses of const,
	               add, cbf_get_integerarrayparams, add
	               globals CBForCIF, CIFCRterm, CIFNLterm, CBFbinsize,
	               CBFmime, CBFdigest, CBFencoding, 
                       CBFelsize, CBFbytedir<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add malloc.h when using gcc<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf.stx.y  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Version of cbf.stx with changes to allow DDL1<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_ascii.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Use symbols for tokens<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_binary_params<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_binary.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add digest logic, change file position tracking<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_canonical.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Make writing repeat consistent; track binbitcount
	               add cbf_binary_params, use cbf_decompress_params;
	               allow MIME header<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_codes.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine adapted from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.h 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_decompress_params<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_compress.c 
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add hooks for CBF_NONE, CBF_BYTE_OFFSET,
	               CBF_PREDICTOR, add cbf_decompress_params<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_context.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Remove const from cbf_copy_string<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_context.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Remove const from cbf_copy_string<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_decode.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine adapted from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.h   
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add files to record file position<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_file.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Track file position; allow writing CIFs and CBFs<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_lex.c   
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add mime processing; add DDL1 support; process "."<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_mime.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_compress_none, cbf_decompress_none,
	               cbf_compress_byte_off, cbf_decompress_byte_off,
	               cbf_compress_predict, cbf_decompress_predict<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_packed.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add cbf_compress_none, cbf_decompress_none,
	               dummy cbf_compress_byte_off, dummy 
	               cbf_decompress_byte_off, dummy cbf_compress_predict, 
	               dummy cbf_decompress_predict;  ensure consistent 
	               writing of repeat<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_part.h  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New header adapted from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_part.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine adapted from pack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_stx.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;rebuilt with correct bison parser from cbf.stx.y<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_tree.c   
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;added cbf_make_new_node, cbf_find_last_child,
	               cbf_name_new_node, cbf_add_new_child, 
	               cbf_make_new_child, cbf_init_index,
	               cbf_add_index; report CBF_ARGUMENT for 
	               cbf_make_child for type CBF_LINK;
 	               removed some uses of const<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cbf_write.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Added symbols for parse tokens; recognize ".";
	               adjusted file header line to conform to documentation;
	               removed some uses of const<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">cif2cbf.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New program<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">common.h   
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New header from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">img2cif.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New program<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">makecbf.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;Add local_exit and change cbf_failnez to facilitate
	               debugging, add _array_intensities.binary_id,
                       _array_data.binary.id<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">md5.h     
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New header from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">md5c.c    
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">string.c    
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine from mpack<BR>
<tr><td valign="top"><font face="Arial,Helvetica,Times">uudecode.c  
<td><font face="Arial,Helvetica,Times">&nbsp;&nbsp;New routine from mpack<BR>

</TABLE>

<HR>
<H3>Release 0.1, Paul J. Ellis, 17 April 1998</H3>
<P>
This was the first CBFlib release.  It
supported binary CBF files using binary strings.
<HR>
<HR>
Updated 13 February 2011.  
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
</font>
</BODY>
</HTML>
